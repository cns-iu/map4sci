parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"UFwQ":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n={version:8,name:"Blank",center:[0,0],zoom:0,sources:{},sprite:"https://cdn.jsdelivr.net/gh/lukasmartinelli/osm-liberty@gh-pages/sprites/osm-liberty",glyphs:"https://cdn.jsdelivr.net/gh/orangemug/font-glyphs@gh-pages/glyphs/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",paint:{"background-color":"rgba(255,255,255,1)"}}]},s=function(){function o(t,i){e(this,o),this.sources=t,this.options=i,Object.assign(this.options,i),this._ticking=!1,this._lastMouseMoveEvent=null,this._parentMap=null,this._isDragging=!1,this._isCursorOverFeature=!1,this._previousPoint=[0,0],this._currentPoint=[0,0],this._trackingRectCoordinates=[[[],[],[],[],[]]]}return i(o,[{key:"onAdd",value:function(t){this._parentMap=t;var e=this.options,o=this._container=this._createContainer(t),i=this._miniMap=new mapboxgl.Map({attributionControl:!1,container:o,style:n,zoom:e.zoom,center:e.center});return e.maxBounds&&i.setMaxBounds(e.maxBounds),i.on("load",this._load.bind(this)),this._container}},{key:"onRemove",value:function(t){}},{key:"_load",value:function(){var t=this.options,e=this._parentMap,o=this._miniMap;["dragPan","scrollZoom","boxZoom","dragRotate","keyboard","doubleClickZoom","touchZoomRotate"].forEach(function(e){!0!==t[e]&&o[e].disable()}),"function"==typeof t.zoomAdjust?this.options.zoomAdjust=t.zoomAdjust.bind(this):null===t.zoomAdjust&&(this.options.zoomAdjust=this._zoomAdjust.bind(this));var i=o.getBounds();this._convertBoundsToPoints(i),o.addSource("trackingRect",{type:"geojson",data:{type:"Feature",properties:{name:"trackingRect"},geometry:{type:"Polygon",coordinates:this._trackingRectCoordinates}}}),o.addLayer({id:"cluster",type:"fill",source:{type:"geojson",data:this.sources.clusters},layout:{},paint:{"fill-color":["get","fill"],"fill-opacity":.7,"fill-outline-color":["get","stroke"]}}),o.addLayer({id:"cluster_boundary",type:"line",minzoom:2,source:{type:"geojson",data:this.sources.clusters},layout:{},paint:{"line-color":["get","stroke"],"line-width":.5,"line-opacity":.8}}),o.addLayer({id:"node_labels",type:"symbol",minzoom:2,source:{type:"geojson",data:this.sources.nodes},layout:{"text-field":"{label}","text-font":["Open Sans Regular"],"text-size":14,"text-anchor":"center","text-justify":"center","text-allow-overlap":!1},filter:["==","level",1]}),o.addLayer({id:"node_labels_2",type:"symbol",minzoom:3,source:{type:"geojson",data:this.sources.nodes},layout:{"text-field":"{label}","text-font":["Open Sans Regular"],"text-size":9,"text-anchor":"center","text-justify":"center"},filter:["all",["<=","level",3],[">","level",1]]}),o.addLayer({id:"trackingRectOutline",type:"line",source:"trackingRect",layout:{},paint:{"line-color":t.edgeColor,"line-width":t.edgeWidth,"line-opacity":t.edgeOpacity}}),o.addLayer({id:"trackingRectFill",type:"fill",source:"trackingRect",layout:{},paint:{"fill-color":t.fillColor,"fill-opacity":t.fillOpacity}}),this._trackingRect=this._miniMap.getSource("trackingRect"),this._update(),e.on("move",this._update.bind(this)),o.on("mousemove",this._mouseMove.bind(this)),o.on("mousedown",this._mouseDown.bind(this)),o.on("mouseup",this._mouseUp.bind(this)),o.on("touchmove",this._mouseMove.bind(this)),o.on("touchstart",this._mouseDown.bind(this)),o.on("touchend",this._mouseUp.bind(this)),this._miniMapCanvas=o.getCanvasContainer(),this._miniMapCanvas.addEventListener("wheel",this._preventDefault),this._miniMapCanvas.addEventListener("mousewheel",this._preventDefault)}},{key:"_mouseDown",value:function(t){this._isCursorOverFeature&&(this._isDragging=!0,this._previousPoint=this._currentPoint,this._currentPoint=[t.lngLat.lng,t.lngLat.lat])}},{key:"_mouseMove",value:function(t){this._ticking=!1;var e=this._miniMap.queryRenderedFeatures(t.point,{layers:["trackingRectFill"]});if(this._isCursorOverFeature&&e.length>0||(this._isCursorOverFeature=e.length>0,this._miniMapCanvas.style.cursor=this._isCursorOverFeature?"move":""),this._isDragging){this._previousPoint=this._currentPoint,this._currentPoint=[t.lngLat.lng,t.lngLat.lat];var o=[this._previousPoint[0]-this._currentPoint[0],this._previousPoint[1]-this._currentPoint[1]],i=this._moveTrackingRect(o);this._parentMap.fitBounds(i,{duration:80,noMoveStart:!0})}}},{key:"_mouseUp",value:function(){this._isDragging=!1,this._ticking=!1}},{key:"_moveTrackingRect",value:function(t){var e=this._trackingRect,o=e._data,i=o.properties.bounds;return i._ne.lat-=t[1],i._ne.lng-=t[0],i._sw.lat-=t[1],i._sw.lng-=t[0],this._convertBoundsToPoints(i),e.setData(o),i}},{key:"_setTrackingRectBounds",value:function(t){var e=this._trackingRect,o=e._data;o.properties.bounds=t,this._convertBoundsToPoints(t),e.setData(o)}},{key:"_convertBoundsToPoints",value:function(t){var e=t._ne,o=t._sw,i=this._trackingRectCoordinates;i[0][0][0]=e.lng,i[0][0][1]=e.lat,i[0][1][0]=o.lng,i[0][1][1]=e.lat,i[0][2][0]=o.lng,i[0][2][1]=o.lat,i[0][3][0]=e.lng,i[0][3][1]=o.lat,i[0][4][0]=e.lng,i[0][4][1]=e.lat}},{key:"_update",value:function(){if(!this._isDragging){var t=this._parentMap.getBounds();this._setTrackingRectBounds(t),"function"==typeof this.options.zoomAdjust&&this.options.zoomAdjust()}}},{key:"_zoomAdjust",value:function(){var e=this._miniMap,o=this._parentMap,i=parseInt(e.getZoom(),10),n=parseInt(o.getZoom(),10),s=this.options.zoomLevels,a=!1;s.forEach(function(t){!a&&n>=t[0]&&(i>=t[1]&&e.setZoom(t[2]),e.setCenter(o.getCenter()),a=!0)}),a||i===this.options.zoom||("object"===t(this.options.bounds)&&e.fitBounds(this.options.bounds,{duration:50}),e.setZoom(this.options.zoom))}},{key:"_createContainer",value:function(t){var e=this.options,o=document.createElement("div");return o.className="mapboxgl-ctrl-minimap mapboxgl-ctrl",o.setAttribute("style","width: "+e.width+"; height: "+e.height+"; "+e.containerStyles),o.addEventListener("contextmenu",this._preventDefault),t.getContainer().appendChild(o),""!==e.id&&(o.id=e.id),o}},{key:"_preventDefault",value:function(t){t.preventDefault()}}]),o}(),a=s;exports.default=a;
},{}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=e(require("./mapboxgl-minimap.js")),t=window.mapboxgl,r={version:8,name:"Blank",center:[0,0],zoom:0,sources:{},sprite:"https://cdn.jsdelivr.net/gh/lukasmartinelli/osm-liberty@gh-pages/sprites/osm-liberty",glyphs:"https://cdn.jsdelivr.net/gh/orangemug/font-glyphs@gh-pages/glyphs/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",paint:{"background-color":"rgba(255,255,255,1)"}}]},i={id:"mapboxgl-minimap",width:"320px",height:"180px",style:r,center:[0,0],zoom:0,containerStyles:"\n        border: 1px solid lightgray; \n        border-radius: 5px; \n        -webkit-box-shadow: 3px 3px 5px 4px #00000021; \n        -moz-box-shadow: 3px 3px 5px 4px #00000021; \n        box-shadow: 3px 3px 5px 4px #00000021;\n    ",zoomAdjust:null,zoomLevels:[[9,3,4],[8,2,3],[6,0,2]],edgeColor:"#08F",edgeWidth:1,edgeOpacity:1,fillColor:"#F80",fillOpacity:.25,dragPan:!1,scrollZoom:!1,boxZoom:!1,dragRotate:!1,keyboard:!1,doubleClickZoom:!1,touchZoomRotate:!1},s=[{level:0,zoom:0,fontSize:0},{level:1,zoom:0,fontSize:20},{level:2,zoom:4.5,fontSize:18},{level:3,zoom:5,fontSize:18},{level:4,zoom:5.5,fontSize:16},{level:5,zoom:6,fontSize:16},{level:6,zoom:6.2,fontSize:14},{level:7,zoom:6.5,fontSize:14},{level:8,zoom:6.7,fontSize:12},{level:9,zoom:7.5,fontSize:12}],d=[{level:0,zoom:0,color:"",width:0,opacity:0,borderOpacity:0,borderColor:"",borderWidth:0},{level:1,zoom:1.5,color:"#FFEBA1",width:3.2,opacity:1,borderOpacity:1,borderColor:"yellow",borderWidth:1.2},{level:2,zoom:3.5,color:"#FFEBA1",width:3,opacity:1,borderOpacity:1,borderColor:"#F9D776",borderWidth:1},{level:3,zoom:4.5,color:"#F9D776",width:2.7,opacity:.9,borderOpacity:0,borderColor:"#F9D776",borderWidth:1},{level:4,zoom:5,color:"#c1b276",width:2.7,opacity:.9,borderOpacity:0,borderColor:"#F9D776",borderWidth:1},{level:5,zoom:5.4,color:"#94895f",width:2.2,opacity:.8,borderOpacity:0,borderColor:"#F9D776",borderWidth:1},{level:6,zoom:5.7,color:"#615b43",width:2.2,opacity:.8,borderOpacity:0,borderColor:"#F9D776",borderWidth:1},{level:7,zoom:6,color:"gray",width:2,opacity:.7,borderOpacity:0,borderColor:"#F9D776",borderWidth:1},{level:8,zoom:6.2,color:"gray",width:2,opacity:.6,borderOpacity:0,borderColor:"#F9D776",borderWidth:1},{level:9,zoom:7,color:"gray",width:1,opacity:.5,borderOpacity:0,borderColor:"#F9D776",borderWidth:1}],l={fillOpacity:.7,borderLineWidth:.5,borderLineOpacity:.8,borderLineMinZoom:3},a=2,n=3,c=0,p=10,u=function(){function e(e,o){if(!e)throw new Error("Container is required to Load() ZmltMap.");if(!o)throw new Error("Configuration object is required for ZmltMap.");if(!o.sources)throw new Error("Sources is a required property of ZmltMap configuration object.");if(!o.sources.nodes)throw new Error("Nodes is missing from the Sources object.");if(!o.sources.edges)throw new Error("Edges is missing from the Sources object.");if(!o.sources.clusters)throw new Error("Clusters is missing from the Sources object.");if(!o.sources.clusterBoundaries)throw new Error("ClusterBoundaries is missing from the Sources object.");this.container=e,this.config=o,this.sources=o.sources,this.textOverlapEnabled=!1,this.nodeZoomIndex=0,this.edgeZoomIndex=0,this.hoverEdgeID=null,this.hoverNodeID=null,this.edges=o.edges?o.edges:d,this.nodes=o.nodes?o.nodes:s,this.clusters=o.clusters?o.clusters:l,this.popups=o.popups?o.popups:[],this.minimapOptions=o.minimapOptions?o.minimapOptions:i,this.currentZoom=o.initialZoom?o.initialZoom:a,this.minZoom=o.minZoom?o.minZoom:c,this.maxZoom=o.maxZoom?o.maxZoom:p,this.textOverlapEnabledZoom=o.textOverlapEnabledZoom?o.textOverlapEnabledZoom:n,this.minimapOptions.style=r,this.load()}return e.prototype.load=function(){var e=this;this.map=new t.Map({container:this.container,style:r,center:[-0,0],zoom:this.currentZoom,maxZoom:this.maxZoom,minZoom:this.minZoom,renderWorldCopies:!1,dragRotate:!0}),this.map.on("load",function(){e.addSources(),e.addClusters(),e.addEdges(),e.addNodes(),e.addEdgeHover(),e.addNodeHover(),e.addUI()})},e.prototype.addUI=function(){var e=this,r=this.map,i=this.popups,s=this.sources,d=this.minimapOptions;r.addControl(new t.NavigationControl({showCompass:!1}),"top-left"),r.addControl(new o.default(s,d),"bottom-left"),r.addControl(new t.FullscreenControl),i.length&&this.addPopups(),r.on("zoom",function(){return e.updateFilters()})},e.prototype.updateFilters=function(){var e=this,o=e.map,t=e.edges,r=e.nodes,i=e.textOverlapEnabledZoom,s=e.textOverlapEnabled,d=this.getZoom();if(this.nodeLevelChange()){var l=["get","zoom",["at",["get","level"],["literal",r]]];o.setFilter("node_labels",[">=",d,l])}if(this.edgeLevelChange()){var a=["get","zoom",["at",["get","level"],["literal",t]]];o.setFilter("nodes",[">=",d,a]),o.setFilter("edges_border",[">=",d,a]),o.setFilter("edges",[">=",d,a])}!s&&d>i?(o.setLayoutProperty("node_labels","text-allow-overlap",!0),this.textOverlapEnabled=!0):s&&d<i&&(o.setLayoutProperty("node_labels","text-allow-overlap",!1),this.textOverlapEnabled=!1)},e.prototype.nodeLevelChange=function(){var e=this.getZoomIndex(this.nodes);return e!==this.nodeZoomIndex&&(this.nodeZoomIndex=e,!0)},e.prototype.edgeLevelChange=function(){var e=this.getZoomIndex(this.edges);return e!==this.edgeZoomIndex&&(this.edgeZoomIndex=e,!0)},e.prototype.getZoomIndex=function(e){for(var o=this.getZoom(),t=0;t<=e.length;t++){if(t==e.length-1)return t;if(o>=e[t].zoom&&o<e[t+1].zoom)return t}},e.prototype.addSources=function(){var e=this.map,o=this.sources;e.addSource("edges_source",{type:"geojson",data:o.edges}),e.addSource("nodes_source",{type:"geojson",data:o.nodes}),e.addSource("cluster_source",{type:"geojson",data:o.clusters}),e.addSource("cluster_boundary_source",{type:"geojson",data:o.clusterBoundaries}),o.allEdges&&e.addSource("all_edges_source",{type:"geojson",data:o.allEdges})},e.prototype.addClusters=function(){var e=this.map,o=this.clusters;e.addLayer({id:"cluster",type:"fill",source:"cluster_source",layout:{},paint:{"fill-color":["get","fill"],"fill-opacity":o.fillOpacity,"fill-outline-color":["get","stroke"]}}),e.addLayer({id:"cluster_boundary",type:"line",minzoom:o.borderLineMinZoom,source:"cluster_boundary_source",layout:{},paint:{"line-color":["get","stroke"],"line-width":o.borderLineWidth,"line-opacity":o.borderLineOpacity}})},e.prototype.addEdges=function(){var e=this.map,o=this.edges,t=this.sources,r=this.maxZoom,i=this.getZoom(),s=["at",["get","level"],["literal",o]],d=["at",o.length-1,["literal",o]];e.addLayer({id:"edges",type:"line",source:"edges_source",layout:{},paint:{"line-color":["case",["boolean",["feature-state","hover"],!1],"red",["get","color",s]],"line-width":["get","width",s],"line-opacity":["get","opacity",s]},filter:[">=",i,["get","zoom",s]]}),e.addLayer({id:"edges_border",type:"line",source:"edges_source",layout:{},paint:{"line-color":["get","borderColor",s],"line-width":["get","borderWidth",s],"line-opacity":["get","borderOpacity",s],"line-gap-width":["get","width",s]},filter:[">=",i,["get","zoom",s]]}),t.allEdges&&e.addLayer({id:"all_edges",type:"line",source:"all_edges_source",layout:{},paint:{"line-color":["get","borderColor",d],"line-width":["get","borderWidth",d],"line-opacity":["get","borderOpacity",d],"line-gap-width":["get","width",d]},minzoom:r})},e.prototype.addNodes=function(){var e=this.map,o=["at",["get","level"],["literal",this.nodes]],t=["get","zoom",["at",["get","level"],["literal",this.edges]]],r=this.getZoom(),i={id:"node_labels",type:"symbol",source:"nodes_source",layout:{"text-field":"{label}","text-font":["Open Sans Regular"],"text-size":["get","fontSize",o],"text-variable-anchor":["top","bottom","top-left","top-right","bottom-left","bottom-right","left","right","center"],"text-radial-offset":.25,"text-justify":"auto","text-allow-overlap":!1},filter:[">=",r,["get","zoom",o]]},s={id:"nodes",type:"circle",source:"nodes_source",layout:{},paint:{"circle-color":["case",["boolean",["feature-state","hover"],!1],"red","black"],"circle-radius":3},filter:[">=",r,t]};e.addLayer(i),e.addLayer(s)},e.prototype.addEdgeHover=function(){var e=this.map;e.on("mousemove","edges",function(o){o.features.length>0&&(this.hoverEdgeID&&e.setFeatureState({source:"edges_source",id:this.hoverEdgeID},{hover:!1}),this.hoverEdgeID=o.features[0].id,e.setFeatureState({source:"edges_source",id:this.hoverEdgeID},{hover:!0}))}),e.on("mouseleave","edges",function(){this.hoverEdgeID&&e.setFeatureState({source:"edges_source",id:this.hoverEdgeID},{hover:!1}),this.hoverEdgeID=null})},e.prototype.addNodeHover=function(){var e=this.map;e.on("mousemove","nodes",function(o){o.features.length>0&&(this.hoverNodeID&&e.setFeatureState({source:"nodes_source",id:this.hoverNodeID},{hover:!1}),this.hoverNodeID=o.features[0].id,e.setFeatureState({source:"nodes_source",id:this.hoverNodeID},{hover:!0}))}),e.on("mouseleave","nodes",function(){this.hoverNodeID&&e.setFeatureState({source:"nodes_source",id:this.hoverNodeID},{hover:!1}),this.hoverNodeID=null})},e.prototype.addPopups=function(){var e=this;this.popups.forEach(function(o){e.addPopupOnClick(o.layer,o.content)})},e.prototype.addPopupOnClick=function(e,o){var r=this.map;r.on("click",e,function(e){var i=h(e.features[0].properties,o);(new t.Popup).setLngLat(e.lngLat).setHTML(i).addTo(r)}),r.on("mouseenter",e,function(){r.getCanvas().style.cursor="pointer"}),r.on("mouseleave",e,function(){r.getCanvas().style.cursor=""})},e.prototype.getZoom=function(){return this.map.getZoom()},e}();function h(e,o){var t="";return o.forEach(function(o,r){o&&(m(r)?t+=o:t+="string"==typeof o?e[o]:o[1](e[o[0]]))}),t}function m(e){return e%2==0}globalThis.ZmltMap=u;
},{"./mapboxgl-minimap.js":"UFwQ"}]},{},["QCba"], null)
//# sourceMappingURL=visualization.96c3d255.js.map